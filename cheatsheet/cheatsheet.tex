% ----------------------------------------------------------------------------------------------------------------------
% Math Learning Cards for AI - Released under the MIT License
% ----------------------------------------------------------------------------------------------------------------------

% User guides
% Latex: https://ftp.agdsn.de/pub/mirrors/latex/dante/macros/latex/base/usrguide.pdf
% Tabularray: https://mirror.physik.tu-berlin.de/pub/CTAN/macros/latex/contrib/tabularray/tabularray.pdf
% TColorbox: https://mirror.clientvps.com/CTAN/macros/latex/contrib/tcolorbox/tcolorbox.pdf
% Posterbox Tutorial: https://mirror.clientvps.com/CTAN/macros/latex/contrib/tcolorbox/tcolorbox-tutorial-poster.pdf#[0,{%22name%22:%22Fit%22}]
% Xcolor: https://mirror.clientvps.com/CTAN/macros/latex/contrib/xcolor/xcolor.pdf
% TikZ: https://tikz.dev/
% Geometry: https://ftp.gwdg.de/pub/ctan/macros/latex/contrib/geometry/geometry.pdf
% fontspec: https://texdoc.org/serve/fontspec/0
% fancyhdr: https://ftp.fau.de/ctan/macros/latex/contrib/fancyhdr/fancyhdr.pdf
% biblatex: https://distrib-coffee.ipsl.jussieu.fr/pub/mirrors/ctan/macros/latex/contrib/biblatex/doc/biblatex.pdf
% amsmath: https://www.latex-project.org/help/documentation/amsldoc.pdf

% Sources
% https://cheats.rs/
% https://www.chiark.greenend.org.uk/~ianmdlvl/rust-polyglot/syntax.html
% https://quickref.me/rust.html
% https://zerotomastery.io/cheatsheets/rust-cheat-sheet/

% Rust Book: https://doc.rust-lang.org/stable/book/title-page.html
% Rust by Example: https://doc.rust-lang.org/rust-by-example/index.html
% Rust Language Reference: https://doc.rust-lang.org/reference/introduction.html
% ----------------------------------------------------------------------------------------------------------------------


\documentclass[8pt]{extarticle}


% --- Hyphenation Rules --------------------------------------------------------
\usepackage[USenglish]{babel}

% --- Fonts --------------------------------------------------------------------

% Ensure proper font encoding
\usepackage[T1]{fontenc}

% Load system fonts via fontspec (requires XeLaTeX or LuaLaTeX)
% to get a list of installed fonts: luaotfload-tool --list=format 
% show all fonts: luafindfont -n "*"
% show font details: luaotfload-tool --find="FiraMono" -i
\usepackage{fontspec}
\setmainfont{FreeSans}[Scale=0.95]
\setsansfont{FreeSans}[Scale=0.95]
\setmonofont{Source Code Pro}[
  Contextuals=Alternate,
  Scale=0.80 
]

% font for the word "RUST" in the header
\newfontfamily\rustfont{AlphaSlabOne} 

% Emoji support
\usepackage{emoji}


% --- Page layout --------------------------------------------------------------
\usepackage[
    % showframe, 
    nomarginpar, 
    a4paper,
    landscape, 
    right=0.25cm, 
    left=0.25cm, 
    top=1cm, 
    bottom=0.65cm,
    headsep=0.1cm,
    headheight=0.75cm,
    footskip=0.35cm,
]{geometry}


\usepackage{fancyhdr}


% --- TColorbox ---------------------------------------------------------------
\usepackage{tcolorbox}
\tcbuselibrary{skins,raster,listings,breakable,minted, poster}

% --- Tables -------------------------------------------------------------------
\usepackage{tabularray}

% --- Color Names -------------------------------------------------------------
\usepackage[dvipsnames*,svgnames]{xcolor}

% --- Graphics -----------------------------------------------------------------
\usepackage{tikz}
% \usetikzlibrary {chains} 
\usepackage{graphicx}
\usepackage{svg}
\graphicspath{{./figures/}{./icons/}{./logos/}}

% --- URL and href -----------------------------------------------------------
\colorlet{citecolor}{black}
\colorlet{linkcolor}{black}
\colorlet{urlcolor}{black}
\usepackage[
  bookmarks=true,
  breaklinks=true,
  pdfborder={0 0 0},
  citecolor=citecolor,
  linkcolor=linkcolor,
  urlcolor=urlcolor,
  colorlinks=true,
  linktocpage=false,
  hyperindex=true,
  colorlinks=true,
  linktocpage=false,
  linkbordercolor=white]{hyperref}

% --- Math Environments --------------------------------------------------------
\usepackage{amsmath}
\usepackage{nicematrix}
\NiceMatrixOptions{cell-space-limits = 1pt}

% --- Bibliography -------------------------------------------------------------
\usepackage[autostyle=true]{csquotes} % recommended before biblatex
\usepackage[backend=biber,style=numeric,sorting=nyt]{biblatex}
\addbibresource{../bibliography/references.bib}

\renewcommand{\bibfont}{\normalfont\footnotesize}

% --- Helpers -----------------------------------------------------------------
\usepackage{lipsum}
\usepackage{enumitem}



% --- Default options ---------------------------------------------------------
\pagestyle{fancy}
% \pagestyle{empty}
% \setlength\parindent{0pt}
% \setlength{\tabcolsep}{2pt}
% \baselineskip=0pt
% \setlength\columnsep{1.75mm}
% \setlength{\parskip}{0.1\baselineskip}


\newcommand{\maincolor}{OliveGreen!80!White}
\newcommand{\maincolspan}{4}



% --- Macros ------------------------------------------------------------------

% Custom command for adding a shorcut, like: "CTRL+C ........ Copy"
\newcommand{\command}[2]{#1~\dotfill{}~#2\\} 


% Memory layout box command
\NewDocumentCommand{\memorylayout}{O{red} m m !O{}}
{
    \begin{tcboxedraster}
        [
            raster columns=8,
            raster before skip=0pt,
            size=tight,
            raster column skip=1pt,
            raster row skip=1pt,
            raster left skip=1pt, 
            raster right skip = 1pt,
            top=0.4ex,
            bottom=0.4ex,
            halign=center,
            colframe=#1!40!gray,
            colback=#1!10,
        ]
        {
            skin=spartan,
            size=minimal,
            nobeforeafter,
            before skip balanced=-0.9\baselineskip,
            width=#3,
            colback=gray!20!white,
            colframe=gray,
        }%
            \foreach \x in {#2}%
            {%
                \begin{tcolorbox}[coltext=gray, arc=1pt,outer arc=1pt]\tiny\x\end{tcolorbox}%
            }%
    \end{tcboxedraster}
}



% --- TColorbox Skins ----------------------------------------------------------

% Colorbox skin for bash listings
\tcbsubskin{mintedtext}{empty}{
        size=minimal,
        listing engine=minted,
        listing only,
        minted style=friendly,
        minted language=text,
        minted options={
            fontsize=\footnotesize,
            breaklines,
            autogobble,
            escapeinside=||,
        },
        colback=gray!10!white,
        colframe=gray!10!white,
        listing only,
        left=0em,
        enhanced,
}



% Colorbox skin for bash listings
\tcbsubskin{mintedbash}{empty}{
        size=minimal,
        listing engine=minted,
        listing only,
        minted style=friendly,
        minted language=bash,
        minted options={
            fontsize=\footnotesize,
            breaklines,
            autogobble,
        },
        colback=gray!10!white,
        colframe=gray!10!white,
        listing only,
        left=0em,
        before skip=0.3\baselineskip,
        after skip=0.9\baselineskip,
        enhanced,
}

% Colorbox skin for rust listings
\tcbsubskin{mintedrust}{empty}{
        size=minimal,
        listing engine=minted,
        listing only,
        minted style=friendly,
        minted language=rust,
        minted options={
            fontsize=\footnotesize,
            breaklines,
            autogobble,
            escapeinside=||,
        },
        colback=gray!10!white,
        colframe=gray!10!white,
        listing only,
        left=0em,
        enhanced,
        before skip=0.3\baselineskip,
        after skip=0.9\baselineskip,
}

% Skin for header box
\tcbsubskin{headerboxskin}{empty}{
        size=minimal,
        coltitle=black!10!black,
}


% Skin for orange-based cheat section boxes
\tcbsubskin{cheatboxorangeskin}{standard}{
    size=title, 
    left=0.2em,
    right=0.2em,
    arc=0.25mm,
    colback=orange!2!white,
    colframe=orange!75!black,
    coltitle=orange!10!black,
    colbacktitle=orange!75!white,
    fonttitle=\sffamily\bfseries,
    toptitle=0mm,
    bottomtitle=0mm,
    fontupper=\sffamily\small,
    fontlower=\sffamily\small,
    % halign=left,
    subtitle style={top=0.4mm, bottom=0mm, boxrule=0.2pt, boxsep=0.1mm,
        colback=orange!50!orange!20!white,
        colupper=orange!50!gray,
        fontupper=\sffamily\bfseries\small,
        coltext=orange!10!black,
        height=1.1\baselineskip,
      }, 
}


% Skin for simple tables inside cheat boxes
\tcbsubskin{cheatboxtablesimple}{empty}{
    size=minimal,
    fontupper=\sffamily\small,
    fontlower=\sffamily\small,
    before skip=0.2\baselineskip,
    after skip=0.2\baselineskip,
    colback=white,
    colframe=gray,
    frame empty,
}


% ----------------------------------------------------------------------------------------------------------------------
% Header and Footer Settings
% ----------------------------------------------------------------------------------------------------------------------

\fancyhead[L]{
    \LARGE\raisebox{-0.1\height}{\includesvg[height=0.8\baselineskip]{logos/rust-logo-blk}}~{\rustfont RUST} \textcolor{orange}{for beginners}
}
\fancyhead[C]{}
\fancyhead[R]{}
\fancyfoot[L]{}
\fancyfoot[C]{}
\fancyfoot[R]{\thepage}


    
% ----------------------------------------------------------------------------------------------------------------------
% Main Document
% ----------------------------------------------------------------------------------------------------------------------

\begin{document}


% === Page 1 =================================================================
\include{overview}
% \pagebreak

% === Page 2 =================================================================



\end{document}
