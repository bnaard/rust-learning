% ----------------------------------------------------------------------------------------------------------------------
% RUST cheat sheet - Released under the MIT License
% ----------------------------------------------------------------------------------------------------------------------

% User guides
% Latex: https://ftp.agdsn.de/pub/mirrors/latex/dante/macros/latex/base/usrguide.pdf
% Tabularray: https://mirror.physik.tu-berlin.de/pub/CTAN/macros/latex/contrib/tabularray/tabularray.pdf
% TColorbox: https://mirror.clientvps.com/CTAN/macros/latex/contrib/tcolorbox/tcolorbox.pdf
% Posterbox Tutorial: https://mirror.clientvps.com/CTAN/macros/latex/contrib/tcolorbox/tcolorbox-tutorial-poster.pdf#[0,{%22name%22:%22Fit%22}]
% Xcolor: https://mirror.clientvps.com/CTAN/macros/latex/contrib/xcolor/xcolor.pdf
% TikZ: https://tikz.dev/
% Geometry: https://ftp.gwdg.de/pub/ctan/macros/latex/contrib/geometry/geometry.pdf
% fontspec: https://texdoc.org/serve/fontspec/0

% Sources
% https://cheats.rs/
% https://www.chiark.greenend.org.uk/~ianmdlvl/rust-polyglot/syntax.html
% https://quickref.me/rust.html
% https://zerotomastery.io/cheatsheets/rust-cheat-sheet/


\documentclass[8pt]{extarticle}


% --- Hyphenation Rules --------------------------------------------------------
\usepackage[USenglish]{babel}

% --- Fonts --------------------------------------------------------------------

% Ensure proper font encoding
\usepackage[T1]{fontenc}

% Load system fonts via fontspec (requires XeLaTeX or LuaLaTeX)
% to get a list of installed fonts: luaotfload-tool --list=format 
\usepackage{fontspec}
\setmainfont{FreeSans}[Scale=0.95]
\setsansfont{FreeSans}[Scale=0.95]
\setmonofont{FreeMono}[Scale=0.85]

% font for the word "RUST" in the header
\newfontfamily\rustfont{AlphaSlabOne} 


% --- Page layout --------------------------------------------------------------
\usepackage[showframe, verbose, nomarginpar, a4paper,landscape, right=2.5mm, left=2.5mm, top=2.5mm, bottom=2.5mm]{geometry}


% --- TColorbox ---------------------------------------------------------------
\usepackage{tcolorbox}
\tcbuselibrary{skins,raster,listings,breakable,minted, poster}


% --- Tables -------------------------------------------------------------------
\usepackage{tabularray}

% --- Color Names -------------------------------------------------------------
\usepackage[dvipsnames*,svgnames]{xcolor}

% --- Graphics -----------------------------------------------------------------
\usepackage{tikz}
% \usetikzlibrary {chains} 
\usepackage{graphicx}
\usepackage{svg}
\graphicspath{{./figures/}{./icons/}{./logos/}}

% --- URL and href -----------------------------------------------------------
\colorlet{citecolor}{black}
\colorlet{linkcolor}{black}
\colorlet{urlcolor}{black}
\usepackage[
  bookmarks=true,
  breaklinks=true,
  pdfborder={0 0 0},
  citecolor=citecolor,
  linkcolor=linkcolor,
  urlcolor=urlcolor,
  colorlinks=true,
  linktocpage=false,
  hyperindex=true,
  colorlinks=true,
  linktocpage=false,
  linkbordercolor=white]{hyperref}

% --- Helpers -----------------------------------------------------------------
\usepackage{lipsum}
\usepackage{enumitem}

% --- Default options ---------------------------------------------------------
\pagestyle{empty}
% \setlength\parindent{0pt}
% \setlength{\tabcolsep}{2pt}
% \baselineskip=0pt
% \setlength\columnsep{1.75mm}
% \setlength{\parskip}{0.1\baselineskip}



% --- Macros ------------------------------------------------------------------

% Custom command for adding a shorcut, like: "CTRL+C ........ Copy"
\newcommand{\command}[2]{#1~\dotfill{}~#2\\} 


% Memory layout box command
\NewDocumentCommand{\memorylayout}{O{red} m m !O{}}
{
    \begin{tcboxedraster}
        [
            raster columns=8,
            raster before skip=0pt,
            size=tight,
            raster column skip=1pt,
            raster row skip=1pt,
            raster left skip=1pt, 
            raster right skip = 1pt,
            top=0.4ex,
            bottom=0.4ex,
            halign=center,
            colframe=#1!40!gray,
            colback=#1!10,
        ]
        {
            skin=spartan,
            size=minimal,
            nobeforeafter,
            before skip balanced=-0.9\baselineskip,
            width=#3,
            colback=gray!20!white,
            colframe=gray,
        }%
            \foreach \x in {#2}%
            {%
                \begin{tcolorbox}[coltext=gray, arc=1pt,outer arc=1pt]\tiny\x\end{tcolorbox}%
            }%
    \end{tcboxedraster}
}



% --- TColorbox Skins ----------------------------------------------------------

% Colorbox skin for bash listings
\tcbsubskin{mintedbash}{empty}{
        size=minimal,
        listing engine=minted,
        listing only,
        minted style=friendly,
        minted language=bash,
        minted options={
            fontsize=\footnotesize,
            breaklines,
            autogobble,
        },
        colback=gray!10!white,
        colframe=gray!10!white,
        listing only,
        left=0em,
        enhanced,
}

% Colorbox skin for rust listings
\tcbsubskin{mintedrust}{empty}{
        size=minimal,
        listing engine=minted,
        listing only,
        minted style=friendly,
        minted language=rust,
        minted options={
            fontsize=\footnotesize,
            breaklines,
            autogobble,
        },
        colback=gray!10!white,
        colframe=gray!10!white,
        listing only,
        left=0em,
        enhanced,
        before skip=0.3\baselineskip,
}

% Skin for header box
\tcbsubskin{headerboxskin}{empty}{
        size=minimal,
        coltitle=black!10!black,
}


% Skin for orange-based cheat section boxes
\tcbsubskin{cheatboxorangeskin}{standard}{
    size=title, 
    left=0.2em,
    right=0.2em,
    arc=0.25mm,
    colback=orange!2!white,
    colframe=orange!75!black,
    coltitle=orange!10!black,
    colbacktitle=orange!75!white,
    fonttitle=\sffamily\bfseries,
    toptitle=0mm,
    bottomtitle=0mm,
    fontupper=\sffamily\small,
    fontlower=\sffamily\small,
    halign=left,
    subtitle style={top=0.4mm, bottom=0mm, boxrule=0.2pt, boxsep=0.1mm,
        colback=orange!50!orange!20!white,
        colupper=orange!50!gray,
        fontupper=\sffamily\bfseries\small,
        coltext=orange!10!black,
        height=1.1\baselineskip,
      }, 
}


% Skin for simple tables inside cheat boxes
\tcbsubskin{cheatboxtablesimple}{empty}{
    size=minimal,
    before skip=0.2\baselineskip,
    after skip=0.2\baselineskip,
    colback=white,
    colframe=gray,
    frame empty,
}



    
% ----------------------------------------------------------------------------------------------------------------------
% Main Document
% ----------------------------------------------------------------------------------------------------------------------

\begin{document}


% === Page 1 =================================================================
\include{overview}
\pagebreak

% === Page 2 =================================================================



\end{document}
